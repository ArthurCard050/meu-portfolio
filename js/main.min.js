export function createSmoothTransition(){const overlay=document.createElement("div");overlay.className="smooth-transition-overlay";overlay.style.cssText=`
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: linear-gradient(135deg,
            rgba(0, 0, 0, 0.9),
            rgba(17, 17, 17, 0.95),
            rgba(0, 0, 0, 0.9)
        );
        z-index: 9999;
        opacity: 0;
        backdrop-filter: blur(0px);
        transition: all 0.8s cubic-bezier(0.23, 1, 0.32, 1);
        pointer-events: none;
        display: flex;
        align-items: center;
        justify-content: center;
    `;document.body.appendChild(overlay);return overlay}export function animatePageElements(){const elements=document.querySelectorAll(".portfolio-card, .hero-title, .nav-menu, .contact-form");elements.forEach((element,index)=>{setTimeout(()=>{element.style.cssText+=`
                transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
                transform: translateY(20px) scale(0.95);
                opacity: 0.3;
                filter: blur(3px);
            `},index*100)})}export function createFloatingParticles(container){for(let i=0;i<15;i++){const particle=document.createElement("div");particle.style.cssText=`
            position: absolute;
            width: ${Math.random()*6+2}px;
            height: ${Math.random()*6+2}px;
            background: rgba(255, 255, 255, ${Math.random()*.5+.2});
            border-radius: 50%;
            top: ${Math.random()*100}%;
            left: ${Math.random()*100}%;
            animation: particleFloat ${Math.random()*3+2}s ease-in-out infinite;
            animation-delay: ${Math.random()*2}s;
            pointer-events: none;
        `;container.appendChild(particle)}}const TRANSITION_CONFIG={overlayAppearDelay:300,loadingFadeDelay:400,totalAnimationTime:1500};export function smoothPageTransition(projectUrl){const overlay=createSmoothTransition();document.body.style.overflow="hidden";animatePageElements();createFloatingParticles(overlay);const loadingContainer=document.createElement("div");loadingContainer.style.cssText=`
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        color: #fff;
        opacity: 0;
        transition: all 0.6s ease-out;
        z-index: 10001;
    `;loadingContainer.innerHTML=`
        <div class="elegant-loader"></div>
        <p style="margin-top: 20px; font-family: 'Inter', sans-serif; font-size: 14px; font-weight: 300; letter-spacing: 1px; opacity: 0.8;">
            Carregando projeto...
        </p>
    `;document.body.appendChild(loadingContainer);setTimeout(()=>{overlay.style.cssText+="opacity: 1; backdrop-filter: blur(20px); pointer-events: auto;"},TRANSITION_CONFIG.overlayAppearDelay);setTimeout(()=>{loadingContainer.style.opacity="1"},TRANSITION_CONFIG.loadingFadeDelay);setTimeout(()=>{window.location.href=projectUrl},TRANSITION_CONFIG.totalAnimationTime)}function parseFrontMatter(markdown){const fm=markdown.match(/---(.*?)---/s);const content=markdown.replace(fm[0],"").trim();const lines=fm[1].trim().split("\n");const data={};for(const line of lines){const[key,value]=line.split(":").map(x=>x.trim());if(value.startsWith("[")||value.includes(",")){data[key]=value.replace(/[\[\]"]/g,"").split(",").map(x=>x.trim())}else{data[key]=value.replace(/^"|"$/g,"")}}data.body=content;return data}function updateSEO(data){const seoElements={title:document.getElementById("seo-title"),description:document.getElementById("seo-description"),image:document.getElementById("seo-image")};if(seoElements.title)seoElements.title.textContent=data.seo_title||data.title;if(seoElements.description)seoElements.description.setAttribute("content",data.seo_description||data.description);if(seoElements.image)seoElements.image.setAttribute("content",data.seo_image||data.image)}async function loadHeroData(base){try{const heroRes=await fetch(`${base}/home/hero.md`);const heroText=await heroRes.text();const hero=parseFrontMatter(heroText);const nameLines=document.querySelectorAll(".name-line");const heroSubtitle=document.querySelector(".hero-subtitle");if(nameLines[0])nameLines[0].textContent=hero.nome;if(nameLines[1])nameLines[1].textContent=hero.sobrenome;if(heroSubtitle)heroSubtitle.textContent=hero.subtitle;return hero}catch(error){console.error("Erro ao carregar dados do hero:",error)}}async function loadAboutData(base){try{const sobreRes=await fetch(`${base}/sobre.md`);const sobreText=await sobreRes.text();const sobre=parseFrontMatter(sobreText);const aboutElements={title:document.querySelector(".about-title"),subtitle:document.querySelector(".about-subtitle"),description:document.querySelector(".about-main-container p")};if(aboutElements.title)aboutElements.title.textContent=sobre.title;if(aboutElements.subtitle)aboutElements.subtitle.textContent=sobre.subtitle;if(aboutElements.description)aboutElements.description.textContent=sobre.body;return sobre}catch(error){console.error("Erro ao carregar dados sobre:",error)}}async function loadProjectsData(base){const projectContainer=document.querySelector(".portfolio-main-grid");if(!projectContainer)return;try{const files=["projeto-branding-01.md"];for(let file of files){const res=await fetch(`${base}/projetos/${file}`);const text=await res.text();const data=parseFrontMatter(text);const card=document.createElement("div");card.className="portfolio-main-item show";card.innerHTML=`
                <div class="portfolio-main-card">
                    <div class="card-main-image">
                        <img src="${data.image}" class="project-main-cover" alt="${data.title}">
                        <div class="card-main-overlay">
                            <div class="project-info">
                                <h3>${data.title}</h3>
                                <p>${data.description}</p>
                                <div class="project-tags">
                                    ${data.tags.map(tag=>`<span class="tag">${tag}</span>`).join("")}
                                </div>
                            </div>
                            <div class="project-actions">
                                <a href="projeto1.html" class="view-btn">
                                    <i class="fas fa-eye"></i> Ver Projeto
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            `;projectContainer.appendChild(card)}}catch(error){console.error("Erro ao carregar projetos:",error)}}async function loadCMSData(){const base="/content";try{const[heroData,aboutData]=await Promise.all([loadHeroData(base),loadAboutData(base)]);if(heroData){updateSEO(heroData)}await loadProjectsData(base)}catch(error){console.error("Erro geral ao carregar dados do CMS:",error)}}loadCMSData();const debounce=(func,wait)=>{let timeout;return(...args)=>{clearTimeout(timeout);timeout=setTimeout(()=>func(...args),wait)}};const projectsData={project1:{title:"Projeto Branding Completo",description:"Desenvolvimento de identidade visual completa para uma startup de tecnologia inovadora...",client:"TechStart Solutions",category:"Branding • Identidade Visual",year:"2023",image:"1.png",tags:["Branding","Identidade Visual","Startup","Tecnologia"]},project2:{title:"Redesign de Marca",description:"Modernização completa da identidade visual de uma empresa estabelecida no mercado...",client:"Empresa Tradicional Ltda",category:"Branding • Redesign",year:"2023",image:"2.jpg",tags:["Branding","Redesign","Modernização","Logotipo"]},project3:{title:"Criação de Logotipo",description:"Desenvolvimento de logotipo minimalista e elegante para consultoria empresarial...",client:"Consultoria Pro Business",category:"Logotipo • Identidade Visual",year:"2023",image:"3.jpg",tags:["Logotipo","Minimalismo","Consultoria","Profissional"]},project4:{title:"Estratégia de Marca",description:"Desenvolvimento de estratégia de marca completa incluindo posicionamento, tom de voz...",client:"Premium Products Co.",category:"Branding • Estratégia",year:"2023",image:"4.jpg",tags:["Estratégia","Branding","Packaging","Premium"]},project5:{title:"Launch de Produto",description:"Criação de identidade visual específica para o lançamento de um produto inovador...",client:"Innovation Labs",category:"Branding • Lançamento",year:"2023",image:"https://placehold.co/600x400/000000/FFFFFF?text=Projeto+05",tags:["Lançamento","Produto","Inovação","Marketing"]},project6:{title:"Rebranding Premium",description:"Transformação completa de uma marca para posicionamento premium no mercado...",client:"Luxury Brand Inc.",category:"Rebranding • Premium",year:"2023",image:"https://placehold.co/600x400/000000/FFFFFF?text=Projeto+06",tags:["Rebranding","Premium","Luxury","Posicionamento"]}};document.addEventListener("DOMContentLoaded",()=>{const hamburger=document.querySelector(".hamburger");const navMenu=document.querySelector(".nav-menu");const navbar=document.querySelector(".navbar");const modal=document.getElementById("projectModal");if(hamburger&&navMenu){hamburger.addEventListener("click",()=>{hamburger.classList.toggle("active");navMenu.classList.toggle("active")});document.querySelectorAll(".nav-link").forEach(link=>{link.addEventListener("click",()=>{hamburger.classList.remove("active");navMenu.classList.remove("active")})})}if(navbar){window.addEventListener("scroll",debounce(()=>{navbar.classList.toggle("navbar-scrolled",window.scrollY>50)},10))}const filterButtons=document.querySelectorAll(".filter-btn");const portfolioItems=document.querySelectorAll(".portfolio-main-item");if(filterButtons.length>0){const filterItems=category=>{let visibleItemIndex=0;portfolioItems.forEach(item=>{const itemCategories=item.dataset.category.split(" ");const shouldShow=category==="all"||itemCategories.includes(category);if(shouldShow){item.classList.remove("hide");item.classList.add("show");item.style.transitionDelay=`${visibleItemIndex*.05}s`;visibleItemIndex++}else{item.classList.remove("show");item.classList.add("hide");item.style.transitionDelay="0s"}})};filterButtons.forEach(button=>{button.addEventListener("click",()=>{filterButtons.forEach(btn=>btn.classList.remove("active"));button.classList.add("active");filterItems(button.dataset.filter)})})}if(modal){const openModal=projectId=>{const project=projectsData[projectId];if(!project)return;const elements={modalImage:document.getElementById("modalImage"),modalTitle:document.getElementById("modalTitle"),modalDescription:document.getElementById("modalDescription"),modalClient:document.getElementById("modalClient"),modalCategory:document.getElementById("modalCategory"),modalYear:document.getElementById("modalYear"),modalTags:document.getElementById("modalTags")};elements.modalImage.src=project.image;elements.modalImage.alt=project.title;elements.modalTitle.textContent=project.title;elements.modalDescription.textContent=project.description;elements.modalClient.textContent=project.client;elements.modalCategory.textContent=project.category;elements.modalYear.textContent=project.year;elements.modalTags.innerHTML=project.tags.map(tag=>`<span class="tag">${tag}</span>`).join("");modal.style.display="block";document.body.style.overflow="hidden"};const closeProjectModal=()=>{modal.style.display="none";document.body.style.overflow="auto"};document.querySelector(".close-modal")?.addEventListener("click",closeProjectModal);window.addEventListener("click",e=>{if(e.target===modal)closeProjectModal()});document.addEventListener("keydown",e=>{if(e.key==="Escape"&&modal.style.display==="block")closeProjectModal()});window.openModal=openModal}const galleryItems=document.querySelectorAll(".gallery-item");const lightbox=document.getElementById("lightbox");if(galleryItems.length>0&&lightbox){const lightboxImage=lightbox.querySelector(".lightbox-image");const lightboxTitle=lightbox.querySelector(".lightbox-title");const controls={close:lightbox.querySelector(".lightbox-close"),prev:lightbox.querySelector(".lightbox-prev"),next:lightbox.querySelector(".lightbox-next")};let currentIndex=0;const images=Array.from(galleryItems).map(item=>({src:item.href,title:item.dataset.title}));const showLightbox=index=>{currentIndex=index;lightboxImage.src=images[currentIndex].src;lightboxTitle.textContent=images[currentIndex].title;lightbox.classList.add("active");document.body.style.overflow="hidden"};const hideLightbox=()=>{lightbox.classList.remove("active");document.body.style.overflow="auto"};const showNextImage=()=>{currentIndex=(currentIndex+1)%images.length;showLightbox(currentIndex)};const showPrevImage=()=>{currentIndex=(currentIndex-1+images.length)%images.length;showLightbox(currentIndex)};galleryItems.forEach((item,index)=>{item.addEventListener("click",e=>{e.preventDefault();showLightbox(index)})});controls.close.addEventListener("click",hideLightbox);controls.next.addEventListener("click",showNextImage);controls.prev.addEventListener("click",showPrevImage);lightbox.addEventListener("click",e=>{if(e.target===lightbox)hideLightbox()});document.addEventListener("keydown",e=>{if(!lightbox.classList.contains("active"))return;switch(e.key){case"Escape":hideLightbox();break;case"ArrowRight":showNextImage();break;case"ArrowLeft":showPrevImage();break}})}if(portfolioItems.length>0){const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("show");observer.unobserve(entry.target)}})},{threshold:.1});portfolioItems.forEach(item=>observer.observe(item))}});import{smoothPageTransition}from"./animations.js";document.addEventListener("DOMContentLoaded",()=>{const portfolioCards=document.querySelectorAll(".portfolio-card");const projectUrls=["projeto1.html","projeto2.html","projeto3.html","projeto4.html","projeto5.html","projeto6.html"];portfolioCards.forEach((card,index)=>{const handleCardClick=e=>{e.preventDefault();card.style.cssText+=`
                transition: all 0.3s cubic-bezier(0.23, 1, 0.32, 1);
                transform: translateY(-5px) scale(0.98);
                filter: brightness(1.1);
            `;setTimeout(()=>smoothPageTransition(projectUrls[index]),200)};const handleCardHover=isHovering=>{if(isHovering){card.style.cssText+=`
                    transform: translateY(-10px) scale(1.01);
                    box-shadow: 0 20px 60px rgba(255, 255, 255, 0.12);
                    filter: brightness(1.05);
                `;card.classList.add("hover-active")}else{card.style.cssText+=`
                    transform: translateY(0) scale(1);
                    filter: brightness(1);
                    box-shadow: none;
                `;card.classList.remove("hover-active")}};card.addEventListener("click",handleCardClick);card.addEventListener("mouseenter",()=>handleCardHover(true));card.addEventListener("mouseleave",()=>handleCardHover(false))});const hamburger=document.querySelector(".hamburger");const navMenu=document.querySelector(".nav-menu");if(hamburger&&navMenu){hamburger.addEventListener("click",()=>{hamburger.classList.toggle("active");navMenu.classList.toggle("active")})}document.querySelectorAll(".nav-link").forEach(link=>{link.addEventListener("click",function(e){const href=this.getAttribute("href");if(href.startsWith("#")){e.preventDefault();const target=document.querySelector(href);if(target){target.scrollIntoView({behavior:"smooth",block:"start"})}}})})});const elegantStyles=document.createElement("style");elegantStyles.textContent=`
    .elegant-loader {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: conic-gradient(#00f0ff 0%, #0055ff 25%, rgba(255,255,255,0.1) 25%);
        animation: rotateProgress 1.5s linear infinite;
        position: relative;
        margin: 0 auto;
    }

    .elegant-loader::before {
        content: "";
        position: absolute;
        top: 5px;
        left: 5px;
        width: 50px;
        height: 50px;
        background: #111;
        border-radius: 50%;
        z-index: 1;
    }

    @keyframes rotateProgress {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    @keyframes particleFloat {
        0%, 100% {
            transform: translateY(0px) translateX(0px);
            opacity: 0.3;
        }
        50% {
            transform: translateY(-15px) translateX(8px);
            opacity: 0.8;
        }
    }

    .portfolio-card {
        cursor: pointer;
        will-change: transform, filter, box-shadow;
        transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
        position: relative;
        overflow: hidden;
    }

    .card-overlay {
        transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
    }

    .portfolio-card:hover .card-overlay {
        transform: translateY(0);
        backdrop-filter: blur(15px);
    }

    .smooth-transition-overlay {
        will-change: opacity, backdrop-filter;
    }

    .hamburger {
        display: none;
        flex-direction: column;
        cursor: pointer;
        padding: 4px;
    }

    .hamburger span {
        width: 25px;
        height: 3px;
        background: #fff;
        margin: 3px 0;
        transition: 0.3s;
    }

    .hamburger.active span:nth-child(1) {
        transform: rotate(-45deg) translate(-5px, 6px);
    }

    .hamburger.active span:nth-child(2) {
        opacity: 0;
    }

    .hamburger.active span:nth-child(3) {
        transform: rotate(45deg) translate(-5px, -6px);
    }

    @media (max-width: 768px) {
        .hamburger {
            display: flex;
        }

        .nav-menu {
            position: fixed;
            left: -100%;
            top: 70px;
            flex-direction: column;
            background-color: rgba(17, 17, 17, 0.95);
            width: 100%;
            text-align: center;
            transition: 0.3s;
            backdrop-filter: blur(10px);
        }

        .nav-menu.active {
            left: 0;
        }

        .nav-menu li {
            margin: 15px 0;
        }
    }

    * {
        transition-timing-function: cubic-bezier(0.23, 1, 0.32, 1);
    }
`;document.head.appendChild(elegantStyles);import{debounce}from"./utils.js";class ModernGallery{constructor(){this.currentFilter="all";this.currentView="grid-3";this.currentPage=1;this.itemsPerPage=6;this.currentLightboxIndex=0;this.filteredItems=[];this.galleryData=[{id:1,src:"https://picsum.photos/400/300?random=1",title:"Logo Principal",description:"Desenvolvimento do logotipo principal da marca",category:"logo",tags:["Logo","Identidade"]},{id:2,src:"https://picsum.photos/400/400?random=2",title:"Variações do Logo",description:"Diferentes versões e aplicações do logo",category:"logo",tags:["Logo","Variações"]},{id:3,src:"https://picsum.photos/400/250?random=3",title:"Cartão de Visita",description:"Design do cartão de visita corporativo",category:"papelaria",tags:["Cartão","Papelaria"]},{id:4,src:"https://picsum.photos/400/350?random=4",title:"Papel Timbrado",description:"Aplicação em papel timbrado oficial",category:"papelaria",tags:["Papel","Corporativo"]},{id:5,src:"https://picsum.photos/400/280?random=5",title:"Website Design",description:"Interface do website da empresa",category:"digital",tags:["Web","UI/UX"]},{id:6,src:"https://picsum.photos/400/320?random=6",title:"App Mobile",description:"Design do aplicativo mobile",category:"digital",tags:["Mobile","App"]},{id:7,src:"https://picsum.photos/400/380?random=7",title:"Mockup Corporativo",description:"Apresentação em mockup realístico",category:"mockup",tags:["Mockup","Apresentação"]},{id:8,src:"https://picsum.photos/400/260?random=8",title:"Envelope Corporativo",description:"Design do envelope oficial da empresa",category:"papelaria",tags:["Envelope","Papelaria"]},{id:9,src:"https://picsum.photos/400/340?random=9",title:"Social Media Kit",description:"Templates para redes sociais",category:"digital",tags:["Social","Templates"]},{id:10,src:"https://picsum.photos/400/300?random=10",title:"Pasta Corporativa",description:"Design da pasta institucional",category:"papelaria",tags:["Pasta","Institucional"]},{id:11,src:"https://picsum.photos/400/280?random=11",title:"Apresentação Mockup",description:"Mockup de apresentação do projeto",category:"mockup",tags:["Mockup","Pitch"]},{id:12,src:"https://picsum.photos/400/360?random=12",title:"Manual de Marca",description:"Páginas do manual de identidade visual",category:"logo",tags:["Manual","Guidelines"]},{id:13,src:"https://picsum.photos/400/320?random=13",title:"Sinalização Externa",description:"Aplicação em placas e sinalização",category:"mockup",tags:["Sinalização","Externo"]},{id:14,src:"https://picsum.photos/400/280?random=14",title:"Crachá Corporativo",description:"Design do crachá dos funcionários",category:"papelaria",tags:["Crachá","ID"]},{id:15,src:"https://picsum.photos/400/350?random=15",title:"Newsletter Design",description:"Template para newsletter",category:"digital",tags:["Newsletter","Email"]}];this.init()}init(){this.bindEvents();this.updateFilteredItems();this.renderGallery()}bindEvents(){document.querySelectorAll(".filter-btn").forEach(btn=>{btn.addEventListener("click",e=>this.handleFilterClick(e))});document.querySelectorAll(".view-btn").forEach(btn=>{btn.addEventListener("click",e=>this.handleViewClick(e))});const loadMoreBtn=document.getElementById("loadMoreBtn");if(loadMoreBtn){loadMoreBtn.addEventListener("click",()=>this.loadMoreItems())}this.bindLightboxEvents()}handleFilterClick(e){document.querySelectorAll(".filter-btn").forEach(b=>b.classList.remove("active"));e.target.classList.add("active");this.currentFilter=e.target.dataset.filter;this.currentPage=1;this.updateFilteredItems();this.renderGallery()}handleViewClick(e){document.querySelectorAll(".view-btn").forEach(b=>b.classList.remove("active"));e.target.classList.add("active");this.currentView=e.target.dataset.view;this.updateGalleryView()}updateFilteredItems(){this.filteredItems=this.currentFilter==="all"?this.galleryData:this.galleryData.filter(item=>item.category===this.currentFilter)}renderGallery(){const grid=document.getElementById("galleryGrid");if(!grid)return;const itemsToShow=this.currentPage*this.itemsPerPage;const visibleItems=this.filteredItems.slice(0,itemsToShow);grid.innerHTML=visibleItems.map((item,index)=>this.createGalleryItemHTML(item,index)).join("");this.updateLoadMoreButton();this.bindGalleryItemEvents()}createGalleryItemHTML(item,index){return`
            <div class="gallery-item${this.currentView==="masonry"?" masonry":""}" 
                 data-category="${item.category}" data-index="${index}">
                <img src="${item.src}" alt="${item.title}" class="gallery-image" loading="lazy">
                <div class="gallery-overlay">
                    <h4>${item.title}</h4>
                    <p>${item.description}</p>
                    <div class="gallery-tags">
                        ${item.tags.map(tag=>`<span class="gallery-tag">${tag}</span>`).join("")}
                    </div>
                </div>
            </div>
        `}updateGalleryView(){const grid=document.getElementById("galleryGrid");if(grid){grid.className=`gallery-grid ${this.currentView}`}}loadMoreItems(){const loadBtn=document.getElementById("loadMoreBtn");if(!loadBtn)return;loadBtn.innerHTML='<span class="loading-spinner"></span>';loadBtn.disabled=true;setTimeout(()=>{this.currentPage++;this.renderGallery();loadBtn.innerHTML='<span>Carregar Mais</span><i class="fas fa-chevron-down"></i>';loadBtn.disabled=false},1e3)}updateLoadMoreButton(){const loadBtn=document.getElementById("loadMoreBtn");const container=document.querySelector(".load-more-container");if(!loadBtn||!container)return;const totalItems=this.filteredItems.length;const visibleItems=this.currentPage*this.itemsPerPage;if(visibleItems>=totalItems){loadBtn.style.display="none";this.showHideButton(container)}else{loadBtn.style.display="inline-flex";this.hideHideButton()}}showHideButton(container){let hideBtn=document.getElementById("hideImagesBtn");if(!hideBtn){hideBtn=document.createElement("button");hideBtn.id="hideImagesBtn";hideBtn.className="load-more-btn";hideBtn.innerHTML='<span>Ocultar Imagens</span><i class="fas fa-chevron-up"></i>';hideBtn.addEventListener("click",()=>this.hideImages());container.appendChild(hideBtn)}hideBtn.style.display="inline-flex"}hideHideButton(){const hideBtn=document.getElementById("hideImagesBtn");if(hideBtn){hideBtn.style.display="none"}}hideImages(){this.currentPage=1;this.renderGallery()}bindGalleryItemEvents(){document.querySelectorAll(".gallery-item").forEach(item=>{item.addEventListener("click",()=>{const index=parseInt(item.dataset.index);this.openLightbox(index)})})}bindLightboxEvents(){const lightbox=document.getElementById("lightbox");const controls={close:document.getElementById("lightboxClose"),prev:document.getElementById("lightboxPrev"),next:document.getElementById("lightboxNext")};if(!lightbox||!controls.close||!controls.prev||!controls.next)return;controls.close.addEventListener("click",()=>this.closeLightbox());controls.prev.addEventListener("click",()=>this.showPrevImage());controls.next.addEventListener("click",()=>this.showNextImage());lightbox.addEventListener("click",e=>{if(e.target===lightbox)this.closeLightbox()});document.addEventListener("keydown",e=>{if(!lightbox.classList.contains("active"))return;switch(e.key){case"Escape":this.closeLightbox();break;case"ArrowLeft":this.showPrevImage();break;case"ArrowRight":this.showNextImage();break}})}openLightbox(index){this.currentLightboxIndex=index;this.updateLightboxContent();document.getElementById("lightbox").classList.add("active");document.body.style.overflow="hidden"}closeLightbox(){document.getElementById("lightbox").classList.remove("active");document.body.style.overflow="auto"}showPrevImage(){const itemsToShow=this.currentPage*this.itemsPerPage;const visibleItems=this.filteredItems.slice(0,itemsToShow);this.currentLightboxIndex=(this.currentLightboxIndex-1+visibleItems.length)%visibleItems.length;this.updateLightboxContent()}showNextImage(){const itemsToShow=this.currentPage*this.itemsPerPage;const visibleItems=this.filteredItems.slice(0,itemsToShow);this.currentLightboxIndex=(this.currentLightboxIndex+1)%visibleItems.length;this.updateLightboxContent()}updateLightboxContent(){const itemsToShow=this.currentPage*this.itemsPerPage;const visibleItems=this.filteredItems.slice(0,itemsToShow);const item=visibleItems[this.currentLightboxIndex];if(!item)return;const elements={image:document.getElementById("lightboxImage"),title:document.getElementById("lightboxTitle"),description:document.getElementById("lightboxDescription")};if(!elements.image||!elements.title||!elements.description)return;elements.image.style.opacity="0";setTimeout(()=>{elements.image.src=item.src;elements.image.alt=item.title;elements.title.textContent=item.title;elements.description.textContent=item.description;elements.image.style.opacity="1"},150)}}function typeText(element,text,speed=80){let i=0;element.textContent="";function type(){if(i<text.length){element.textContent+=text.charAt(i);i++;setTimeout(type,speed)}}type()}document.addEventListener("DOMContentLoaded",function(){const hamburger=document.querySelector(".hamburger");const navMenu=document.querySelector(".nav-menu");const navbar=document.querySelector(".navbar");if(hamburger&&navMenu){hamburger.addEventListener("click",()=>{hamburger.classList.toggle("active");navMenu.classList.toggle("active");document.body.classList.toggle("menu-open")})}if(navbar){window.addEventListener("scroll",debounce(()=>{navbar.classList.toggle("navbar-scrolled",window.scrollY>50)},50))}const animatedElements=document.querySelectorAll(".content-section, .process-step, .detail-card, .gallery-item, .nav-project");if(animatedElements.length>0){const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add("animate-in");observer.unobserve(entry.target)}})},{threshold:.1});animatedElements.forEach(el=>observer.observe(el))}const serviceTitle=document.querySelector(".service-title");if(serviceTitle){const originalText=serviceTitle.textContent;const titleObserver=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){typeText(serviceTitle,originalText);titleObserver.unobserve(entry.target)}})});titleObserver.observe(serviceTitle)}const galleryItems=document.querySelectorAll(".gallery-item");const lightbox=document.getElementById("lightbox");if(galleryItems.length>0&&lightbox&&!document.getElementById("galleryGrid")){const lightboxImage=lightbox.querySelector(".lightbox-image");const lightboxTitle=lightbox.querySelector(".lightbox-title");const controls={close:lightbox.querySelector(".lightbox-close"),prev:lightbox.querySelector(".lightbox-prev"),next:lightbox.querySelector(".lightbox-next")};let currentIndex=0;const images=Array.from(galleryItems).map(item=>({src:item.href,title:item.dataset.title}));const updateLightbox=()=>{lightboxImage.style.opacity=0;setTimeout(()=>{lightboxImage.src=images[currentIndex].src;lightboxTitle.textContent=images[currentIndex].title;lightboxImage.style.opacity=1},200)};const showLightbox=index=>{currentIndex=index;updateLightbox();lightbox.classList.add("active");document.body.style.overflow="hidden"};const hideLightbox=()=>{lightbox.classList.remove("active");document.body.style.overflow="auto"};const showNextImage=()=>{currentIndex=(currentIndex+1)%images.length;updateLightbox()};const showPrevImage=()=>{currentIndex=(currentIndex-1+images.length)%images.length;updateLightbox()};galleryItems.forEach((item,index)=>{item.addEventListener("click",e=>{e.preventDefault();showLightbox(index)})});controls.close.addEventListener("click",hideLightbox);controls.next.addEventListener("click",showNextImage);controls.prev.addEventListener("click",showPrevImage);lightbox.addEventListener("click",e=>{if(e.target===lightbox)hideLightbox()});document.addEventListener("keydown",e=>{if(!lightbox.classList.contains("active"))return;switch(e.key){case"Escape":hideLightbox();break;case"ArrowRight":showNextImage();break;case"ArrowLeft":showPrevImage();break}})}if(document.getElementById("galleryGrid")){new ModernGallery}});document.documentElement.style.scrollBehavior="smooth";const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"};const observer=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.style.animationPlayState="running"}})},observerOptions);function observeGalleryItems(){document.querySelectorAll(".gallery-item").forEach(item=>{observer.observe(item)})}setTimeout(observeGalleryItems,100);export function debounce(fn,delay=20){let timeout;return(...args)=>{clearTimeout(timeout);timeout=setTimeout(()=>fn.apply(this,args),delay)}}